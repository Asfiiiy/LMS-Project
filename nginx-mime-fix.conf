# Nginx Configuration Fix for MIME Types and Next.js Static Files
# Add this to your Nginx site configuration: /etc/nginx/sites-available/lms

# Fix MIME types for JavaScript files
location ~* \.js$ {
    add_header Content-Type application/javascript;
    add_header Cache-Control "public, max-age=31536000, immutable";
}

# Fix MIME types for Next.js static chunks
location /_next/static/ {
    add_header Content-Type application/javascript;
    add_header Cache-Control "public, max-age=31536000, immutable";
    try_files $uri =404;
}

# Ensure proper MIME types for all static assets
location ~* \.(js|mjs|json)$ {
    add_header Content-Type application/javascript;
    add_header Cache-Control "public, max-age=31536000, immutable";
}

# Fix for Turbopack chunks
location /_next/static/chunks/ {
    add_header Content-Type application/javascript;
    add_header Cache-Control "public, max-age=31536000, immutable";
    try_files $uri =404;
}

